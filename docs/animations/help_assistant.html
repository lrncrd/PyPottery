<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel the Assistant</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #2c3e50;
            font-family: 'Courier New', Courier, monospace;
        }

        .container {
            position: relative;
            width: 250px;
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            cursor: pointer;
        }

        /* Speech Bubble */
        .speech-bubble {
            position: absolute;
            top: 10px;
            right: -100px;
            background: #fff;
            color: #000;
            padding: 10px 15px;
            border-radius: 10px;
            border: 2px solid #000;
            font-weight: bold;
            opacity: 0;
            transform: scale(0) rotate(-10deg);
            transform-origin: bottom left;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            pointer-events: none;
            z-index: 100;
            box-shadow: 4px 4px 0px rgba(0, 0, 0, 0.2);
        }

        .speech-bubble::before {
            content: '';
            position: absolute;
            left: -10px;
            bottom: 15px;
            border-top: 8px solid transparent;
            border-bottom: 8px solid transparent;
            border-right: 12px solid #000;
        }

        .speech-bubble::after {
            content: '';
            position: absolute;
            left: -6px;
            bottom: 15px;
            border-top: 8px solid transparent;
            border-bottom: 8px solid transparent;
            border-right: 12px solid #fff;
        }

        /* SVG Animations */
        #monitor-whole {
            transition: transform 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
            transform-origin: center bottom;
        }

        /* Screen Color */
        #screen-bg {
            fill: #111;
            transition: fill 0.4s;
        }

        /* Face Expressions */
        .face-part {
            fill: #0f0;
            opacity: 0;
            transition: opacity 0.3s;
        }

        #face-idle {
            opacity: 1;
            animation: breathe 4s infinite ease-in-out;
        }

        #face-awake {
            opacity: 0;
        }

        /* Hover Effects */
        .container:hover .speech-bubble {
            opacity: 1;
            transform: scale(1) rotate(0deg);
            top: 20px;
            /* Float up slightly */
        }

        /* Smooth "Perk Up" Animation */
        .container:hover #monitor-whole {
            /* 
               Instead of jumping up, we scale up slightly and rotate a bit
               to look like it's turning to face you or perking up.
            */
            transform: scale(1.05) translateY(-5px);
        }

        /* Wiggle Animation on hover start */
        @keyframes happy-wiggle {
            0% {
                transform: scale(1) rotate(0deg);
            }

            20% {
                transform: scale(1.05) rotate(-3deg) translateY(-5px);
            }

            40% {
                transform: scale(1.05) rotate(3deg) translateY(-5px);
            }

            60% {
                transform: scale(1.05) rotate(-2deg) translateY(-5px);
            }

            80% {
                transform: scale(1.05) rotate(1deg) translateY(-5px);
            }

            100% {
                transform: scale(1.05) rotate(0deg) translateY(-5px);
            }
        }

        .container:hover #monitor-whole {
            animation: happy-wiggle 0.6s ease-out forwards;
        }

        .container:hover #screen-bg {
            fill: #002200;
        }

        .container:hover #face-idle {
            opacity: 0;
            animation: none;
        }

        .container:hover #face-awake {
            opacity: 1;
        }

        @keyframes breathe {

            0%,
            100% {
                opacity: 0.6;
            }

            50% {
                opacity: 0.3;
            }
        }

        /* Shadow update */
        .shadow-ellipse {
            transition: all 0.6s ease;
            opacity: 0.2;
        }

        .container:hover .shadow-ellipse {
            opacity: 0.1;
            transform: scale(0.9);
            transform-origin: center;
        }
    </style>
</head>

<body>

    <div class="container">

        <div class="speech-bubble">
            Ciao! I'm Pixel.<br>Can I help?
        </div>

        <svg width="240" height="240" viewBox="0 0 240 240">
            <!-- Ground Shadow -->
            <ellipse cx="120" cy="225" rx="70" ry="10" fill="#000" class="shadow-ellipse" />

            <!-- Grouping EVERYTHING so it moves together -->
            <g id="monitor-whole" transform-origin="120 220">

                <!-- Monitor Casing -->
                <rect x="40" y="50" width="160" height="130" rx="15" ry="15" fill="#d0d0d0" stroke="#444"
                    stroke-width="3" />
                <path d="M50,180 L190,180 L200,150 L40,150 Z" fill="#b0b0b0" opacity="0.3" /> <!-- Bottom bevel -->

                <!-- Screen Bezel -->
                <rect x="55" y="65" width="130" height="90" rx="5" ry="5" fill="#a0a0a0" stroke="#444"
                    stroke-width="2" />

                <!-- The Screen -->
                <rect id="screen-bg" x="60" y="70" width="120" height="80" rx="2" ry="2" />

                <!-- Scanlines -->
                <pattern id="scanlines" x="0" y="0" width="1" height="4" patternUnits="userSpaceOnUse">
                    <rect x="0" y="0" width="1" height="2" fill="#fff" opacity="0.05" />
                </pattern>
                <rect x="60" y="70" width="120" height="80" fill="url(#scanlines)" pointer-events="none" />

                <!-- Face: IDLE (Zzz) -->
                <g id="face-idle" transform="translate(120, 115)">
                    <text x="0" y="5" text-anchor="middle" font-family="monospace" font-size="24" fill="#0f0"
                        font-weight="bold">Zzz...</text>
                </g>

                <!-- Face: AWAKE (Happy) -->
                <g id="face-awake" class="face-part" transform="translate(120, 115)">
                    <!-- Eyes -->
                    <rect x="-30" y="-15" width="10" height="12" rx="2" fill="#0f0" />
                    <rect x="20" y="-15" width="10" height="12" rx="2" fill="#0f0" />
                    <!-- Mouth (Simple Smile) -->
                    <path d="M-15,10 Q0,25 15,10" stroke="#0f0" stroke-width="4" fill="none" stroke-linecap="round" />
                </g>

                <!-- Stand/Foot is now INSIDE the moving group -->
                <g id="monitor-stand">
                    <!-- Neck -->
                    <rect x="100" y="180" width="40" height="20" fill="#999" stroke="#444" stroke-width="3" />
                    <!-- Base -->
                    <path d="M80,200 L160,200 L170,220 L70,220 Z" fill="#b0b0b0" stroke="#444" stroke-width="3" />
                    <rect x="70" y="220" width="100" height="5" fill="#888" stroke="#444" stroke-width="2" />
                </g>

                <!-- Power LED -->
                <circle cx="180" cy="165" r="3" fill="#e74c3c" stroke="#c0392b" stroke-width="1" />
                <!-- Power Button -->
                <circle cx="165" cy="165" r="5" fill="#fff" stroke="#999" stroke-width="1" />

            </g>

        </svg>

    </div>

</body>

</html>