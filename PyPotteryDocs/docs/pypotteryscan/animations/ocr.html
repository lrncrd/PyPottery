<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCR Workflow</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f3f4f6;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            overflow: hidden;
        }

        .window {
            width: 700px;
            height: 450px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        .header {
            height: 40px;
            background: #f1f3f4;
            display: flex;
            align-items: center;
            padding: 0 16px;
            gap: 8px;
            border-bottom: 1px solid #e5e7eb;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #dadce0;
        }

        .dot.red {
            background: #ff5f56;
        }

        .dot.yellow {
            background: #ffbd2e;
        }

        .dot.green {
            background: #27c93f;
        }

        .app-body {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 40px;
            align-items: center;
            justify-content: center;
        }

        .ocr-container {
            width: 100%;
            max-width: 500px;
            background: #fff;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 24px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 32px;
        }

        .text-line {
            height: 12px;
            background: #e5e7eb;
            border-radius: 6px;
            margin-bottom: 16px;
            width: 100%;
            transition: background 0.3s;
        }

        .text-line.short {
            width: 60%;
        }

        .text-line.medium {
            width: 80%;
        }

        .text-line.processed {
            background: #10b981;
            /* green-500 */
        }

        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: #3b82f6;
            /* blue-500 */
            box-shadow: 0 0 10px #3b82f6;
            opacity: 0;
        }

        .progress-area {
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .progress-bar-bg {
            height: 12px;
            background: #e5e7eb;
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #10b981);
            width: 0%;
            transition: width 0.1s linear;
        }

        .status-text {
            font-size: 14px;
            color: #6b7280;
            font-weight: 500;
        }

        .btn-ocr {
            padding: 12px 32px;
            background: #2563eb;
            color: white;
            border-radius: 8px;
            font-weight: bold;
            font-size: 16px;
            border: none;
            cursor: pointer;
            transition: transform 0.1s, background 0.2s;
            box-shadow: 0 4px 6px rgba(37, 99, 235, 0.2);
        }

        .btn-ocr:hover {
            background: #1d4ed8;
        }

        .cursor {
            width: 20px;
            height: 20px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="black" viewBox="0 0 24 24"><path d="M7 2l12 11.2-5.8.5 3.3 7.3-2.2.9-3.2-7.4-4.4 4.6z" stroke="white" stroke-width="1"/></svg>') no-repeat;
            position: absolute;
            top: 100%;
            left: 100%;
            z-index: 9999;
            transition: all 0.5s ease-out;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
            pointer-events: none;
        }

        /* Animation Keyframes */
        @keyframes scan {
            0% {
                top: 0;
                opacity: 1;
            }

            100% {
                top: 100%;
                opacity: 1;
            }
        }
    </style>
</head>

<body>

    <div class="window" id="appWindow">
        <div class="header">
            <div class="dot red"></div>
            <div class="dot yellow"></div>
            <div class="dot green"></div>
            <div style="margin-left: auto; font-size: 12px; color: #6b7280; font-weight: 500;">PyPotteryScan v0.2.0
            </div>
        </div>
        <div class="app-body">
            <h2 class="text-2xl font-bold mb-6 text-gray-800">üîç OCR Processing</h2>

            <div class="ocr-container" id="ocrContainer">
                <div class="text-line medium"></div>
                <div class="text-line"></div>
                <div class="text-line short"></div>
                <div class="text-line medium"></div>
                <div class="text-line"></div>
                <div class="scan-line" id="scanLine"></div>
            </div>

            <div class="progress-area" id="progressArea" style="opacity: 0;">
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill" id="progressFill"></div>
                </div>
                <div class="status-text" id="statusText">Processing...</div>
            </div>

            <button class="btn-ocr mt-6" id="startBtn">üöÄ Start OCR Processing</button>
        </div>
        <div class="cursor" id="cursor"></div>
    </div>

    <script>
        const scanLine = document.getElementById('scanLine');
        const textLines = document.querySelectorAll('.text-line');
        const progressFill = document.getElementById('progressFill');
        const statusText = document.getElementById('statusText');
        const startBtn = document.getElementById('startBtn');
        const progressArea = document.getElementById('progressArea');
        const cursor = document.getElementById('cursor');
        const appWindow = document.getElementById('appWindow');

        function getRelativePos(element) {
            const rect = element.getBoundingClientRect();
            const winRect = appWindow.getBoundingClientRect();
            return {
                top: rect.top - winRect.top,
                left: rect.left - winRect.left,
                width: rect.width,
                height: rect.height
            };
        }

        function runAnimation() {
            // Reset
            scanLine.style.opacity = '0';
            scanLine.style.animation = 'none';
            textLines.forEach(line => line.classList.remove('processed'));
            progressFill.style.width = '0%';
            statusText.textContent = 'Processing...';
            startBtn.style.transform = 'scale(1)';
            startBtn.style.display = 'block';
            startBtn.style.opacity = '1';
            progressArea.style.opacity = '0';

            cursor.style.top = '110%';
            cursor.style.left = '110%';
            cursor.style.transition = 'none';

            // Start

            // 0.5s: Move to Button
            setTimeout(() => {
                cursor.style.transition = 'all 0.5s ease-out';
                const btnPos = getRelativePos(startBtn);
                cursor.style.top = (btnPos.top + 20) + 'px';
                cursor.style.left = (btnPos.left + 50) + 'px';
            }, 500);

            // 1.0s: Click
            setTimeout(() => {
                startBtn.style.transform = 'scale(0.95)';
            }, 1000);

            // 1.3s: Release & Start Process
            setTimeout(() => {
                startBtn.style.display = 'none'; // Hide button to show progress
                progressArea.style.opacity = '1';

                // Move cursor away slightly to observe
                cursor.style.top = '350px';
                cursor.style.left = '600px';

                // Start Scan
                scanLine.style.opacity = '1';
                scanLine.style.animation = 'scan 2s linear forwards';

                // Animate Progress
                progressFill.style.transition = 'width 2s linear';
                progressFill.style.width = '100%';

                // Animate Lines turning green as scan line passes
                textLines.forEach((line, index) => {
                    setTimeout(() => {
                        line.classList.add('processed');
                    }, 500 + (index * 300)); // Staggered
                });

            }, 1300);

            setTimeout(() => {
                statusText.textContent = 'Completed!';
                statusText.style.color = '#10b981';
                scanLine.style.opacity = '0';
            }, 3300);

            // 4.0s: Move away
            setTimeout(() => {
                cursor.style.top = '110%';
                cursor.style.left = '110%';
            }, 4000);
        }

        setInterval(runAnimation, 5000);
        setTimeout(runAnimation, 100);

    </script>
</body>

</html>